# Spite Project Metadata Format

Projects declare themselves as spite projects by including a `.spite` file or `SPITE.md` in their repo root.

## File Detection Order

1. `.spite` (YAML format)
2. `SPITE.md` (Markdown with YAML frontmatter)
3. `.spite.yaml`
4. `.spite.json`

## .spite Format (YAML)

```yaml
# Required: at least one of repo, web, or app
name: My Spite Project
author: username
description: |
  Built this because someone said it would take 6 months.
  Did it in a weekend.

# Links (at least one required)
repo: https://github.com/user/project  # auto-detected from submission
web: https://myproject.com
app:
  android: https://play.google.com/store/apps/details?id=com.example
  ios: https://apps.apple.com/app/id123456789

# Optional
thumbnail: https://example.com/thumb.png  # or relative: ./assets/spite-thumb.png
labels:
  - weekend-project
  - vibe-coding
  - anti-enterprise
badges:
  - speed-run
  - rage-quit
  - subscription-killer

# Optional: override git-derived activity
status: active  # active | maintained | archived | dormant

# Optional: vanity URL routing
vanity: myapp  # short name for /myapp redirect
trusted: false  # manually approved for subdomain hosting

# Maintainer-Generated (not submitter-controlled)
spite_score: 7.5  # number (1-10, one decimal place) - assigned by maintainer
spite_roast: Snarky AI-generated commentary about the project's spite level
```

## SPITE.md Format

```markdown
---
name: My Spite Project
author: username
description: Built this because someone said it would take 6 months.
web: https://myproject.com
labels: [weekend-project, vibe-coding]
---

# Why This Exists

Extended description of the spite behind this project...
(This content is displayed on the project detail page)
```

## Auto-Derived Metadata

From git/GitHub API:
- `repo`: The submitted URL
- `date_submitted`: When added to directory
- `last_commit`: Most recent commit date
- `commit_count_30d`: Commits in last 30 days
- `stars`: GitHub stars (if applicable)
- `activity_level`: Computed from commit frequency
  - `hot`: 10+ commits in 30 days
  - `active`: 1-9 commits in 30 days
  - `maintained`: commit in last 90 days
  - `dormant`: no commits in 90+ days

## Maintainer-Generated Fields

The following fields are **generated by the maintainer**, not controlled by project submitters:

- **`spite_score`**: number (1-10, one decimal place)
  - Generated by running `npm run generate-scores` on maintainer's machine
  - Uses Claude API to evaluate spitefulness based on project description
  - Criteria: spitefulness of purpose, simplicity over complexity, evident rage, weekend project vibes
  - See [DESIGN-SPITE-SCORE.md](DESIGN-SPITE-SCORE.md) for full details

- **`spite_roast`**: string (1-2 sentences)
  - AI-generated snarky commentary about the project's spite level
  - Generated alongside `spite_score`
  - Not submitter-controlled to maintain objectivity and snark quality

These fields are optional in submissions but are added by maintainers after PR approval. The generation script uses the maintainer's `ANTHROPIC_API_KEY` environment variable, which is never committed to the repo.

## Validation Rules

1. Must have at least one link: `repo`, `web`, or `app.*`
2. `description` max 500 chars
3. `name` max 100 chars
4. `thumbnail` must be HTTPS or relative path
5. Max 10 labels
6. Max 5 badges (see [DESIGN-BADGES.md](DESIGN-BADGES.md) for available badges)
7. Badge IDs must match available badges: `speed-run`, `one-coffee`, `rage-quit`, `3am-spite`, `full-circle`, `surgical-strike`, `mammoth-slayer`, `vibe-coded`, `subscription-killer`, `first-blood`
8. URLs must be valid and not on blocklist
9. `spite_score` (if present) must be a number between 1-10
10. `spite_roast` (if present) must be a string max 500 chars
